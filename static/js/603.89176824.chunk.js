"use strict";(self.webpackChunkfilmoteka=self.webpackChunkfilmoteka||[]).push([[603],{4332:function(e,n,t){t.d(n,{Z:function(){return R}});var r,a,i,o,s,c,l,u,f,d,h,m,g,x,p=t(7689),v=t(1087),Z=t(168),_=t(4313),b=_.ZP.div(r||(r=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"]))),j=_.ZP.div(a||(a=(0,Z.Z)(["\n  overflow: hidden;\n  margin-bottom: 5px;\n"]))),w=_.ZP.img(i||(i=(0,Z.Z)(["\n  max-width: 100%;\n  object-fit: cover;\n  transition: transform 0.4s;\n  &:hover {\n    transform: scale(1.1);\n  }\n"]))),y=_.ZP.h3(o||(o=(0,Z.Z)(["\n  max-width: 300px;\n  color: var(--color);\n  font-size: 14px;\n  margin-bottom: 0;\n  margin-top: auto;\n"]))),k=_.ZP.div(s||(s=(0,Z.Z)(["\n  display: flex;\n  align-items: center;\n"]))),S=_.ZP.span(c||(c=(0,Z.Z)(["\n  font-size: 10px;\n  color: gold;\n"]))),P=_.ZP.span(l||(l=(0,Z.Z)(["\n  font-size: 10px;\n  color: gray;\n"]))),N=_.ZP.p(u||(u=(0,Z.Z)(["\n  color: rgb(36, 35, 35);\n  font-size: 10px;\n"]))),z=_.ZP.span(f||(f=(0,Z.Z)(["\n  font-size: 8px;\n"]))),A=_.ZP.p(d||(d=(0,Z.Z)(["\n  color: red;\n  font-weight: bold;\n  font-size: 12px;\n  margin-left: auto;\n"]))),C=(0,_.iv)(h||(h=(0,Z.Z)(["\n  background: #f85032;\n  background: -webkit-linear-gradient(to right, #e73827, #f85032);\n  background: linear-gradient(to right, #e73827, #f85032);\n"]))),L=(0,_.iv)(m||(m=(0,Z.Z)(["\n  background: #f7971e;\n  background: -webkit-linear-gradient(to right, #ffd200, #f7971e);\n  background: linear-gradient(to right, #ffd200, #f7971e);\n  color: rgb(36, 35, 35);\n"]))),M=(0,_.iv)(g||(g=(0,Z.Z)(["\n  background: #000000;\n  background: -webkit-linear-gradient(to right, #0f9b0f, #000000);\n  background: linear-gradient(to right, #0f9b0f, #000000);\n  color: #fff;\n"]))),B=_.ZP.div(x||(x=(0,Z.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  width: 10px;\n  heigth: 10px;\n  padding: 5px;\n  font-weight: bold;\n  margin-left: 10px;\n  &.rating-red {\n    ","\n  }\n  &.rating-yellow {\n    ","\n  }\n  &.rating-green {\n    ","\n  }\n"])),C,L,M),F=t(3329);var T=function(e){var n=e.poster_path,t=e.title,r=e.vote_average,a=e.release_date,i=10*r,o=Math.floor(i/10),s=Array.from({length:10},(function(e,n){return n<o?(0,F.jsx)(S,{children:"\u2605"},"star-".concat(n)):(0,F.jsx)(P,{children:"\u2605"},"star-".concat(n))})),c=function(e){return e<=4?"red":e<7?"yellow":"green"}(r),l="rating-".concat(c);return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(b,{children:[(0,F.jsx)(j,{children:(0,F.jsx)(w,{src:n?"https://image.tmdb.org/t/p/w500/".concat(n):"https://dummyimage.com/300x420/fff/aaa",alt:t,width:300})}),(0,F.jsx)(y,{children:t||"Movie without a title"}),(0,F.jsxs)(k,{children:[(0,F.jsx)(N,{children:r?s:"N/A"}),(0,F.jsx)(B,{className:l,children:(0,F.jsx)(z,{children:r?r.toFixed(1):"N/A"})}),(0,F.jsx)(A,{children:a?a.slice(0,4):"N/A"})]})]})})},q="MoviesList_movies__list__iWvbg",E="MoviesList_movies__item__QWC0f",R=function(e){var n=e.movies,t=(0,p.TH)();return(0,F.jsx)("ul",{className:q,children:n.map((function(e,n){var r=e.id,a=e.poster_path,i=e.title,o=e.vote_average,s=e.release_date;return(0,F.jsx)("li",{className:E,children:(0,F.jsx)(v.rU,{to:"/movies/".concat(r),state:{from:t},children:(0,F.jsx)(T,{id:r,poster_path:a,title:i,vote_average:o,release_date:s},r)})},"".concat(r,"-").concat(n))}))})}},6603:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r,a,i,o=t(3433),s=t(9439),c=t(2791),l=t(7689),u=t(9085),f=t(4771),d=t(8489),h=t(4332),m=t(3728),g="SearchBar_form__LROhE",x="SearchBar_input__search__SOG17",p="SearchBar_search__btn__RNKec",v="SearchBar_icon__ej06C",Z=t(3329),_=function(e){var n=e.onSubmit,t=(0,c.useState)(""),r=(0,s.Z)(t,2),a=r[0],i=r[1];return(0,Z.jsxs)("form",{className:g,onSubmit:function(e){e.preventDefault(),a?(n(a),i("")):u.Am.error("Please, enter your name movie!")},children:[(0,Z.jsx)("input",{className:x,name:"query",value:a,type:"text",autoComplete:"off",placeholder:"Search...",onChange:function(e){i(e.currentTarget.value.toLowerCase().trim())}}),(0,Z.jsx)("button",{type:"submit",className:p,children:(0,Z.jsx)(m.Vph,{className:v})})]})},b={movies__page:"MoviesPage_movies__page__qZzT6"},j=t(4165),w=t(5861),y=t(4701),k=t(9973),S=t(9625),P=t(168),N=t(4313),z=t(6970),A=N.ZP.div(r||(r=(0,P.Z)(["\n  max-width: 280px;\n  margin: 20px 0;\n"]))),C=(0,N.ZP)(z.ZP)(a||(a=(0,P.Z)(["\n  width: 208px;\n  box-sizing: border-box;\n  background-color: var(--white);\n  border: 1px solid grey;\n  font-size: 16px;\n  outline: none;\n  border-radius: 5px;\n  color: var(--black);\n"]))),L=N.ZP.p(i||(i=(0,P.Z)(["\n  color: var(--color);\n  font-size: 16px;\n"]))),M=function(){var e=(0,c.useState)(0),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,c.useState)([]),i=(0,s.Z)(a,2),l=i[0],f=i[1],m=(0,c.useState)(null),g=(0,s.Z)(m,2),x=g[0],p=g[1],v=(0,c.useState)(!1),_=(0,s.Z)(v,2),b=_[0],P=_[1],N=(0,c.useState)(1),z=(0,s.Z)(N,2),M=z[0],B=z[1],F=(0,c.useState)(!1),T=(0,s.Z)(F,2),q=T[0],E=T[1],R=(0,c.useContext)(S.A).selectedLanguage;if((0,c.useEffect)((function(){if(0!==t){var e=function(){var e=(0,w.Z)((0,j.Z)().mark((function e(){var n;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,d.Z.fetchByYear(M,t,R.iso_639_1);case 4:0===(n=e.sent).length?(E(!1),1===M?(f([]),u.Am.error("Sorry, we couldn't find any movies for that year.")):u.Am.error("That's all the movies we could find for that year.")):(E(!0),f((function(e){return[].concat((0,o.Z)(e),(0,o.Z)(n))}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p(e.t0);case 11:return e.prev=11,P(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[M,t,R]),x)return(0,Z.jsx)("p",{children:x.message});for(var D=[],H=(new Date).getFullYear(),O=H;O>=H-50;O--)D.push(O);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(A,{children:(0,Z.jsx)(C,{classNamePrefix:"react-select",name:"year-select",id:"year-select",value:{value:t,label:t},onChange:function(e){return r(e.value)},options:D.map((function(e){return{value:e,label:e}})),menuPlacement:"auto"})}),l.length>0?(0,Z.jsx)(h.Z,{movies:l}):b?(0,Z.jsx)(y.Z,{}):(0,Z.jsx)(L,{children:"Please select a year..."}),q&&(0,Z.jsx)(k.Z,{hendleIncrement:function(){B(M+1)}})]})},B=function(){var e=(0,l.s0)(),n=(0,l.TH)(),t=(0,c.useState)([]),r=(0,s.Z)(t,2),a=r[0],i=r[1],m=(0,c.useState)(""),g=(0,s.Z)(m,2),x=g[0],p=g[1],v=(0,c.useState)(0),j=(0,s.Z)(v,2),w=j[0],y=j[1],k=(0,c.useState)(!1),S=(0,s.Z)(k,2),P=S[0],N=S[1],z=(0,c.useCallback)((function(e){N(!0),d.Z.fetchSearchMovie(x,e).then((function(n){0===n.length?(u.Am.error("sorry, that's all the movies we could find"),N(!1)):(i((function(e){return[].concat((0,o.Z)(e),(0,o.Z)(n))})),y(e))})).catch((function(e){u.Am.error("Failed to fetch movies.")}))}),[x]);(0,c.useEffect)((function(){p(new URLSearchParams(n.search).get("query")),y(1)}),[n.search]),(0,c.useEffect)((function(){x&&z(1)}),[z,x]);return(0,Z.jsxs)("div",{className:b.movies__page,children:[(0,Z.jsxs)("div",{className:b.search__wrapper,children:[(0,Z.jsx)(_,{onSubmit:function(n){n!==x&&(i([]),e("?query=".concat(n)))}}),(0,Z.jsx)(M,{})]}),(0,Z.jsx)(h.Z,{movies:a}),(0,Z.jsx)(f.Z,{dataLength:a.length,next:function(){z(w+1)},hasMore:P,loader:(0,Z.jsx)("p",{children:"Loading..."}),children:(0,Z.jsx)(h.Z,{movies:a})})]})}}}]);
//# sourceMappingURL=603.89176824.chunk.js.map